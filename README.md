# Web翻訳アプリ

このアプリケーションは、WebページのURLを入力して日本語に翻訳するJavaScriptアプリケーションです。

## 機能

- ページの上部にURLの入力テキストボックスと開始ボタンがあります
- 開始ボタンが押されると、Webページを読み込み、日本語へ翻訳しURLの下へ表示します
- Webページの体裁を保ちつつ、文章を翻訳後のものに入れ替えます
- 画像はそのままのレイアウトで翻訳後のページに表示します
- コードブロックは翻訳せずにそのままのレイアウトで表示します
- 翻訳にはOpenAI互換のLLM APIを用います
- 設定画面からAPI情報を入力できます
- API情報のデフォルト値:
  - BASE_URL: http://host.docker.internal:1234/v1
  - MODEL_NAME: light-r1-32b
  - API_KEY: lm-studio
- 訳文の前に読み込んだ原文を表示します
- 翻訳処理実行中にユーザーがキャンセルすることができます

## 技術的な詳細

このアプリケーションは以下のコンポーネントで構成されています：

1. **フロントエンド**:
   - HTML/CSS/JavaScriptで構築されたシンプルなウェブインターフェース
   - 翻訳前後のコンテンツを表示するタブ切り替え機能
   - 設定モーダルでAPI情報を管理

2. **バックエンド**:
   - Node.jsサーバーがウェブページの取得を担当
   - CORSの問題を回避するためのプロキシ機能
   - 複数の取得方法をフォールバックとして実装

3. **翻訳処理**:
   - OpenAI互換のLLM APIを使用
   - テキストノードのみを抽出して翻訳
   - XPathを使用して翻訳後のテキストを正確に配置

## 使い方

1. サーバーを起動: `node server.js`
2. ブラウザで `http://localhost:50901` にアクセス
3. 翻訳したいウェブページのURLを入力
4. 「翻訳開始」ボタンをクリック
5. 翻訳結果が表示されたら、タブを切り替えて原文と訳文を比較

## 設定

右上の⚙️アイコンをクリックして設定画面を開き、以下の情報を設定できます：

- BASE URL: LLM APIのベースURL
- MODEL NAME: 使用するモデル名
- API KEY: APIキー

## 注意事項

- 一部のウェブサイトでは、セキュリティ設定によりコンテンツの取得ができない場合があります
- 大量のテキストを含むウェブページの翻訳には時間がかかる場合があります
- 翻訳品質はLLMモデルの性能に依存します